# Create a workflow that truggers nabually and:
# 1. print our sloga
# 2. Guess our magic number
name: Secet stuff
on: workflow_dispatch

jobs:
  print-slogan:
    runs-on: ubuntu-latest
    env:
      SLOGAN: ${{ vars.SLOGAN }}
  
    steps:
    - run: echo ${{ vars.SLOGAN}}
    - run: echo $SLOGAN
    
  guess-magic-number:
    runs-on: ubuntu-latest
    env:
      MAGIC_NUMBER: ${{ secrets.MY_MAGIC_NUMBER }}
    steps:
      - name: Guess magic number
        run: echo $MY_MAGIC_NUMBER
      - name: gues with environment variable
        run: echo ${{ secrets.MY_MAGIC_NUMBER }}
        

  print_and_guess:
    runs-on: ubuntu-latest

    env:
        SLOGAN: ${{ secrets.SLOGAN }}
        MY_MAGIC_NUMBER: ${{ secrets.MY_MAGIC_NUMBER }}
        ACTIONS_STEP_DEBUG: true  # Enable debug mode
  
    steps:
    - name: Print Slogan and Magic Number
      run: |
            echo "SLOGAN: $SLOGAN"
            echo "MAGIC_NUMBER: $MY_MAGIC_NUMBER"
    - name: Mutate and Print MAGIC_NUMBER
            
      run: |
        # Mutate the MAGIC_NUMBER by adding an arbitrary value (e.g., add 1)
        for i in {1..50}; do
          MY_MAGIC_NUMBER=$(( i))
          echo "Mutated number: $MY_MAGIC_NUMBER"
        done
        
        MUTATED_MAGIC_NUMBER=$((MY_MAGIC_NUMBER + 1))
  
        # Print the mutated (obfuscated) value
        echo "Mutated MAGIC_NUMBER: $MUTATED_MAGIC_NUMBER"
  
        # Now, reverse the mutation to restore the original value
        ORIGINAL_MAGIC_NUMBER=$((MUTATED_MAGIC_NUMBER - 1))
  
        # Print the original value after restoring it
        echo "Original MAGIC_NUMBER (restored): $ORIGINAL_MAGIC_NUMBER"
                    
                    
              
    
